!function(e){e.fn.styler=function(s){var t=e.extend({wrapper:"form",idSuffix:"-styler",filePlaceholder:"The file is not selected",fileBrowse:"Overview...",selectPlaceholder:"Choose...",selectSearch:!1,selectSearchLimit:10,selectSearchNotFound:"No matches found",selectSearchPlaceholder:"searching...",selectVisibleOptions:0,singleSelectzIndex:"100",selectSmartPositioning:!0,onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}},s);return this.each(function(){function s(){var e="",s="",i="",o="";void 0!==l.attr("id")&&""!==l.attr("id")&&(e=' id="'+l.attr("id")+t.idSuffix+'"'),void 0!==l.attr("title")&&""!==l.attr("title")&&(s=' title="'+l.attr("title")+'"'),void 0!==l.attr("class")&&""!==l.attr("class")&&(i=" "+l.attr("class"));var a=l.data();for(var d in a)""!==a[d]&&(o+=" data-"+d+'="'+a[d]+'"');e+=o,this.id=e,this.title=s,this.classes=i}var l=e(this);l.is(":checkbox")?l.each(function(){if(l.parent("div.jq-checkbox").length<1){var t=function(){var t=new s,i=e("<div"+t.id+' class="jq-checkbox'+t.classes+'"'+t.title+'><div class="jq-checkbox__div"></div></div>');l.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(i).prependTo(i),i.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative",overflow:"hidden"}),l.is(":checked")&&i.addClass("checked"),l.is(":disabled")&&i.addClass("disabled"),i.on("click.styler",function(){return i.is(".disabled")?!1:(l.is(":checked")?(l.prop("checked",!1),i.removeClass("checked")):(l.prop("checked",!0),i.addClass("checked")),l.change(),!1)}),l.closest("label").add('label[for="'+l.attr("id")+'"]').click(function(e){i.click(),e.preventDefault()}),l.on("change.styler",function(){l.is(":checked")?i.addClass("checked"):i.removeClass("checked")}).on("keydown.styler",function(e){32==e.which&&i.click()}).on("focus.styler",function(){i.is(".disabled")||i.addClass("focused")}).on("blur.styler",function(){i.removeClass("focused")})};t(),l.on("refresh",function(){l.off(".styler").parent().before(l).remove(),t()})}}):l.is(":radio")?l.each(function(){if(l.parent("div.jq-radio").length<1){var i=function(){var i=new s,o=e("<div"+i.id+' class="jq-radio'+i.classes+'"'+i.title+'><div class="jq-radio__div"></div></div>');l.css({position:"absolute",zIndex:"-1",opacity:0,margin:0,padding:0}).after(o).prependTo(o),o.attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",display:"inline-block",position:"relative"}),l.is(":checked")&&o.addClass("checked"),l.is(":disabled")&&o.addClass("disabled"),o.on("click.styler",function(){return o.is(".disabled")?!1:(o.closest(t.wrapper).find('input[name="'+l.attr("name")+'"]').prop("checked",!1).parent().removeClass("checked"),l.prop("checked",!0).parent().addClass("checked"),l.change(),!1)}),l.closest("label").add('label[for="'+l.attr("id")+'"]').click(function(e){o.click(),e.preventDefault()}),l.on("change.styler",function(){l.parent().addClass("checked")}).on("focus.styler",function(){o.is(".disabled")||o.addClass("focused")}).on("blur.styler",function(){o.removeClass("focused")})};i(),l.on("refresh",function(){l.off(".styler").parent().before(l).remove(),i()})}}):l.is(":file")?l.css({position:"absolute",top:0,right:0,width:"100%",height:"100%",opacity:0,margin:0,padding:0}).each(function(){if(l.parent("div.jq-file").length<1){var i=function(){var i=new s,o=l.data("placeholder");void 0===o&&(o=t.filePlaceholder);var a=l.data("browse");(void 0===a||""===a)&&(a=t.fileBrowse);var d=e("<div"+i.id+' class="jq-file'+i.classes+'"'+i.title+' style="display: inline-block; position: relative; overflow: hidden"></div>'),c=e('<div class="jq-file__name">'+o+"</div>").appendTo(d);e('<div class="jq-file__browse">'+a+"</div>").appendTo(d),l.after(d),d.append(l),l.is(":disabled")&&d.addClass("disabled"),l.on("change.styler",function(){var e=l.val();if(l.is("[multiple]")){e="";for(var s=l[0].files,t=0;t<s.length;t++)e+=(t>0?", ":"")+s[t].name}c.text(e.replace(/.+[\\\/]/,"")),""===e?(c.text(o),d.removeClass("changed")):d.addClass("changed")}).on("focus.styler",function(){d.addClass("focused")}).on("blur.styler",function(){d.removeClass("focused")}).on("click.styler",function(){d.removeClass("focused")})};i(),l.on("refresh",function(){l.off(".styler").parent().before(l).remove(),i()})}}):l.is("select")?l.each(function(){if(l.parent("div.jqselect").length<1){var i=function(){function i(s){s.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(s){var t=null;"mousewheel"==s.type?t=-1*s.originalEvent.wheelDelta:"DOMMouseScroll"==s.type&&(t=40*s.originalEvent.detail),t&&(s.stopPropagation(),s.preventDefault(),e(this).scrollTop(t+e(this).scrollTop()))})}function o(){for(var e=0,s=c.length;s>e;e++){var t="",l="",i="",o="",a="",d="",r="disabled",h="selected sel disabled";c.eq(e).prop("selected")&&(l="selected sel"),c.eq(e).is(":disabled")&&(l=r),c.eq(e).is(":selected:disabled")&&(l=h),void 0!==c.eq(e).attr("class")&&(o=" "+c.eq(e).attr("class"),d=' data-jqfs-class="'+c.eq(e).attr("class")+'"');var p=c.eq(e).data();for(var f in p)""!==p[f]&&(i+=" data-"+f+'="'+p[f]+'"');t="<li"+d+i+' class="'+l+o+'">'+c.eq(e).html()+"</li>",c.eq(e).parent().is("optgroup")&&(void 0!==c.eq(e).parent().attr("class")&&(a=" "+c.eq(e).parent().attr("class")),t="<li"+d+' class="'+l+o+" option"+a+'">'+c.eq(e).html()+"</li>",c.eq(e).is(":first-child")&&(t='<li class="optgroup'+a+'">'+c.eq(e).parent().attr("label")+"</li>"+t)),n+=t}}function a(){var a=new s,d="",r=l.data("placeholder"),h=l.data("search"),p=l.data("search-limit"),f=l.data("search-not-found"),u=l.data("search-placeholder"),v=l.data("z-index"),g=l.data("smart-positioning");void 0===r&&(r=t.selectPlaceholder),(void 0===h||""===h)&&(h=t.selectSearch),(void 0===p||""===p)&&(p=t.selectSearchLimit),(void 0===f||""===f)&&(f=t.selectSearchNotFound),void 0===u&&(u=t.selectSearchPlaceholder),(void 0===v||""===v)&&(v=t.singleSelectzIndex),(void 0===g||""===g)&&(g=t.selectSmartPositioning);var b=e("<div"+a.id+' class="jq-selectbox jqselect'+a.classes+'" style="display: inline-block; position: relative; z-index:'+v+'"><div class="jq-selectbox__select"'+a.title+' style="position: relative"><div class="jq-selectbox__select-text"></div><div class="jq-selectbox__trigger"><div class="jq-selectbox__trigger-arrow"></div></div></div></div>');l.css({margin:0,padding:0}).after(b).prependTo(b);var m=e("div.jq-selectbox__select",b),w=e("div.jq-selectbox__select-text",b),C=c.filter(":selected");o(),h&&(d='<div class="jq-selectbox__search"><input type="search" autocomplete="off" placeholder="'+u+'"></div><div class="jq-selectbox__not-found">'+f+"</div>");var x=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+d+'<ul style="position: relative; list-style: none; overflow: auto; overflow-x: hidden">'+n+"</ul></div>");b.append(x);var y=e("ul",x),q=e("li",x),k=e("input",x),j=e("div.jq-selectbox__not-found",x).hide();q.length<p&&k.parent().hide();var _=0,S=0;q.each(function(){var s=e(this);s.css({display:"inline-block","white-space":"nowrap"}),s.innerWidth()>_&&(_=s.innerWidth(),S=s.width()),s.css({display:"block"})});var T=b.clone().appendTo("body").width("auto"),P=T.width();T.remove(),P==b.width()&&w.width(S),_>b.width()&&x.width(_),""===l.val()?w.text(r).addClass("placeholder"):w.text(C.text()),""===c.first().text()&&""!==l.data("placeholder")&&q.first().hide(),l.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0});var z=b.outerHeight(),A=k.outerHeight(),H=y.css("max-height"),I=q.filter(".selected");I.length<1&&q.first().addClass("selected sel"),void 0===q.data("li-height")&&q.data("li-height",q.outerHeight());var O=x.css("top");if("auto"==x.css("left")&&x.css({left:0}),"auto"==x.css("top")&&x.css({top:z}),x.hide(),I.length&&(c.first().text()!=C.text()&&b.addClass("changed"),b.data("jqfs-class",I.data("jqfs-class")),b.addClass(I.data("jqfs-class"))),l.is(":disabled"))return b.addClass("disabled"),!1;m.click(function(){e("div.jq-selectbox").filter(".opened").length&&t.onSelectClosed.call(e("div.jq-selectbox").filter(".opened")),l.focus();var s=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1;if(!s){var o=e(window),a=q.data("li-height"),d=b.offset().top,n=o.height()-z-(d-o.scrollTop()),r=l.data("visible-options");(void 0===r||""===r)&&(r=t.selectVisibleOptions);var h=5*a,p=a*r;r>0&&6>r&&(h=p),0===r&&(p="auto");var f=function(){x.height("auto").css({bottom:"auto",top:O});var e=function(){y.css("max-height",Math.floor((n-20-A)/a)*a)};e(),y.css("max-height",p),"none"!=H&&y.css("max-height",H),n<x.outerHeight()+20&&e()},u=function(){x.height("auto").css({top:"auto",bottom:O});var e=function(){y.css("max-height",Math.floor((d-o.scrollTop()-20-A)/a)*a)};e(),y.css("max-height",p),"none"!=H&&y.css("max-height",H),d-o.scrollTop()-20<x.outerHeight()+20&&e()};return g===!0||1===g?n>h+A+20?(f(),b.removeClass("dropup").addClass("dropdown")):(u(),b.removeClass("dropdown").addClass("dropup")):(g===!1||0===g)&&n>h+A+20&&(f(),b.removeClass("dropup").addClass("dropdown")),e("div.jqselect").css({zIndex:v-1}).removeClass("opened"),b.css({zIndex:v}),x.is(":hidden")?(e("div.jq-selectbox__dropdown:visible").hide(),x.show(),b.addClass("opened focused"),t.onSelectOpened.call(b)):(x.hide(),b.removeClass("opened dropup dropdown"),e("div.jq-selectbox").filter(".opened").length&&t.onSelectClosed.call(b)),k.length&&(k.val("").keyup(),j.hide(),k.keyup(function(){var s=e(this).val();q.each(function(){e(this).html().match(new RegExp(".*?"+s+".*?","i"))?e(this).show():e(this).hide()}),""===c.first().text()&&""!==l.data("placeholder")&&q.first().hide(),q.filter(":visible").length<1?j.show():j.hide()})),q.filter(".selected").length&&(y.innerHeight()/a%2!==0&&(a/=2),y.scrollTop(y.scrollTop()+q.filter(".selected").position().top-y.innerHeight()/2+a)),i(y),!1}}),q.hover(function(){e(this).siblings().removeClass("selected")});{var D=q.filter(".selected").text();q.filter(".selected").text()}q.filter(":not(.disabled):not(.optgroup)").click(function(){l.focus();var s=e(this),i=s.text();if(!s.is(".selected")){var o=s.index();o-=s.prevAll(".optgroup").length,s.addClass("selected sel").siblings().removeClass("selected sel"),c.prop("selected",!1).eq(o).prop("selected",!0),D=i,w.text(i),b.data("jqfs-class")&&b.removeClass(b.data("jqfs-class")),b.data("jqfs-class",s.data("jqfs-class")),b.addClass(s.data("jqfs-class")),l.change()}x.hide(),b.removeClass("opened dropup dropdown"),t.onSelectClosed.call(b)}),x.mouseout(function(){e("li.sel",x).addClass("selected")}),l.on("change.styler",function(){w.text(c.filter(":selected").text()).removeClass("placeholder"),q.removeClass("selected sel").not(".optgroup").eq(l[0].selectedIndex).addClass("selected sel"),c.first().text()!=q.filter(".selected").text()?b.addClass("changed"):b.removeClass("changed")}).on("focus.styler",function(){b.addClass("focused"),e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur.styler",function(){b.removeClass("focused")}).on("keydown.styler keyup.styler",function(e){var s=q.data("li-height");w.text(c.filter(":selected").text()),q.removeClass("selected sel").not(".optgroup").eq(l[0].selectedIndex).addClass("selected sel"),(38==e.which||37==e.which||33==e.which||36==e.which)&&y.scrollTop(y.scrollTop()+q.filter(".selected").position().top),(40==e.which||39==e.which||34==e.which||35==e.which)&&y.scrollTop(y.scrollTop()+q.filter(".selected").position().top-y.innerHeight()+s),13==e.which&&(e.preventDefault(),x.hide(),b.removeClass("opened dropup dropdown"),t.onSelectClosed.call(b))}).on("keydown.styler",function(e){32==e.which&&(e.preventDefault(),m.click())}),e(document).on("click",function(s){e(s.target).parents().hasClass("jq-selectbox")||"OPTION"==s.target.nodeName||(e("div.jq-selectbox").filter(".opened").length&&t.onSelectClosed.call(e("div.jq-selectbox").filter(".opened")),k.length&&k.val("").keyup(),x.hide().find("li.sel").addClass("selected"),b.removeClass("focused opened dropup dropdown"))})}function d(){var t=new s,a=e("<div"+t.id+' class="jq-select-multiple jqselect'+t.classes+'"'+t.title+' style="display: inline-block; position: relative"></div>');l.css({margin:0,padding:0}).after(a),o(),a.append("<ul>"+n+"</ul>");var d=e("ul",a).css({position:"relative","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"}),r=e("li",a).attr("unselectable","on").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none","white-space":"nowrap"}),h=l.attr("size"),p=d.outerHeight(),f=r.outerHeight();d.css(void 0!==h&&h>0?{height:f*h}:{height:4*f}),p>a.height()&&(d.css("overflowY","scroll"),i(d),r.filter(".selected").length&&d.scrollTop(d.scrollTop()+r.filter(".selected").position().top)),l.prependTo(a).css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0}),l.is(":disabled")?(a.addClass("disabled"),c.each(function(){e(this).is(":selected")&&r.eq(e(this).index()).addClass("selected")})):(r.filter(":not(.disabled):not(.optgroup)").click(function(s){l.focus();var t=e(this);if(s.ctrlKey||s.metaKey||t.addClass("selected"),s.shiftKey||t.addClass("first"),s.ctrlKey||s.metaKey||s.shiftKey||t.siblings().removeClass("selected first"),(s.ctrlKey||s.metaKey)&&(t.is(".selected")?t.removeClass("selected first"):t.addClass("selected first"),t.siblings().removeClass("first")),s.shiftKey){var i=!1,o=!1;t.siblings().removeClass("selected").siblings(".first").addClass("selected"),t.prevAll().each(function(){e(this).is(".first")&&(i=!0)}),t.nextAll().each(function(){e(this).is(".first")&&(o=!0)}),i&&t.prevAll().each(function(){return e(this).is(".selected")?!1:void e(this).not(".disabled, .optgroup").addClass("selected")}),o&&t.nextAll().each(function(){return e(this).is(".selected")?!1:void e(this).not(".disabled, .optgroup").addClass("selected")}),1==r.filter(".selected").length&&t.addClass("first")}c.prop("selected",!1),r.filter(".selected").each(function(){var s=e(this),t=s.index();s.is(".option")&&(t-=s.prevAll(".optgroup").length),c.eq(t).prop("selected",!0)}),l.change()}),c.each(function(s){e(this).data("optionIndex",s)}),l.on("change.styler",function(){r.removeClass("selected");var s=[];c.filter(":selected").each(function(){s.push(e(this).data("optionIndex"))}),r.not(".optgroup").filter(function(t){return e.inArray(t,s)>-1}).addClass("selected")}).on("focus.styler",function(){a.addClass("focused")}).on("blur.styler",function(){a.removeClass("focused")}),p>a.height()&&l.on("keydown.styler",function(e){(38==e.which||37==e.which||33==e.which)&&d.scrollTop(d.scrollTop()+r.filter(".selected").position().top-f),(40==e.which||39==e.which||34==e.which)&&d.scrollTop(d.scrollTop()+r.filter(".selected:last").position().top-d.innerHeight()+2*f)}))}var c=e("option",l),n="";if(l.is("[multiple]")){var r=navigator.userAgent.match(/Android/i)?!0:!1,h=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?!0:!1;if(r||h)return;d()}else a()};i(),l.on("refresh",function(){l.off(".styler").parent().before(l).remove(),i()})}}):l.is(":reset")&&l.on("click",function(){setTimeout(function(){l.closest(t.wrapper).find("input, select").trigger("refresh")},1)})}).promise().done(function(){t.onFormStyled.call()})}}(jQuery);